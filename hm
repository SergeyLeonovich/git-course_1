from random import *
from time import sleep

def guessing_game(x, y):
    phrases_too_much = ['Ох, слишком много! Попробуй еще раз', 'Многовато будет!', 'Ого-го, это слишком много!',
                        'Много!', 'Бери ниже', 'Многовато!', 'Нужно меньшее число!']
    phrases_too_little = ['Ох, слишком мало! Попробуй еще раз', 'Маловато будет!', 'Эх, это слишком мало!',
                        'Мало!', 'Бери выше', 'Маловато!', 'Нужно большее число!']
    phrases_almost = ['Почти угадал!', 'Горячо, но не очень', 'Уже рядом', 'Ты близок', 'Ты уже рядом', 'Ну же, почти',
                      'Горячо!']
    phrases_guessed = ['Поздравляю! Ты угадал число :)', 'Молодец! Ты угадал:)', 'Ура, ты угадал!:)']
    phrases_too_soon = ['Ого, так быстро!', 'Да ты волшебник! Ты угадал моё число', 'Скажи честно, ты подглядывал?',
                        'У тебя отличная интуиция!', 'Даже я бы не смог отгадать так быстро!']
    if x > y:
        x, y = y, x
        num_0 = randint(x, y)
        print('Я загадал число от', x, 'до', y, 'Попробуй угадать!')
    else:
        num_0 = randint(x, y)
        print('Я загадал число от', x, 'до', y, 'Попробуй угадать!')
    count = 0
    while True:
        num_1 = int(input())
        count += 1
        if num_1 == num_0:
            if count == 1:
                print('Да ты молодец!')
                sleep(3)
                if input('Хочешь сыграть еще раз? Введи "да":) ').lower().strip() in ['да', 'lf']:
                    start()
                else:
                    print('Приходи, когда появится желание сыграть еще раз :)')
                    break
            elif 1 < count <= 5:
                print(choice(phrases_too_soon))
                if input('Хочешь сыграть еще раз? Введи "да":) ').lower().strip() in ['да', 'lf']:
                    start()
                else:
                    print('Приходи, когда появится желание сыграть еще раз :)')
                    break
            else:
                print(choice(phrases_guessed))
                if input('Хочешь сыграть еще раз? Введи "да":) ').lower().strip() in ['да', 'lf']:
                    start()
                else:
                    print('Приходи, когда появится желание сыграть еще раз :)')
                    break
        elif num_1 != num_0:
            if abs(num_1 - num_0) < 5:
                print(choice(phrases_almost))
            else:
                print(choice(phrases_too_much))


# правила
def game_rules():
    print('Очень рад что ты тут! Давай ознакомлю тебя с правилами игры.')
    sleep(3)
    print('Я загадаю число, а ты будешь его отгадывать.')
    sleep(3)
    print('Диапазон чисел ты выберешь сам.')
    sleep(3)
    print('Если ты укажешь диапазон чисел от 0 до 100, я не смогу загадать число вне этого диапазона :)')
    sleep(3)
    print('Я попрошу тебя ввести границы диапазона. Границы не должны совпадать, так играть мы не сможем.')
    sleep(3)
    input('А теперь напиши что-нибудь, чтобы я был уверен, что ты понял правила игры :)')

# проверка правильности
def is_valid_x(x):
    if x.isdigit() is False:
        print('Это не число :(')
        sleep(3)
        print('Что ж, ладно, введи новые числа.')
        start()

def is_valid_xy(x, y):
    while x == y:
        print('Ты ввел одинаковые числа. Я же говорил, что так играть мы не сможем :(')
        sleep(3)
        print('Что ж, давай попробуем еще раз')
        start()
    if y.isdigit() is False:
        print('Я запутался :( Это не число')
        sleep(3)
        print('Давай попробуем еще раз :)')
        start()
    else:
        return True

# запуск игры
def start():
    x = input('Введи первую границу диапазона... ')
    is_valid_x(x)
    y = input('Введи вторую границу диапазона... ')
    if is_valid_xy(x, y) is True:
        x, y = int(x), int(y)
        guessing_game(x, y)

# приглашение в игру
if input('Не желаешь сыграть в игру? Введи "да":) ').lower().strip() in ['да', 'lf']:
    game_rules()
    start()
else:
    if input('Если всё таки надумал, Введи "да" :)').lower().strip() in ['да', 'lf']:
        game_rules()
        start()
    else:
        print('Приходи, когда появится желание сыграть :)')
